/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/engine/AI.ts":
/*!**************************!*\
  !*** ./src/engine/AI.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _globals__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./globals */ \"./src/engine/globals.ts\");\n\r\nclass Mind {\r\n    constructor(vessel, ...capabilities) {\r\n        this.vessel = vessel;\r\n        this.last_pos = { x: 0, y: 0, z: 0 };\r\n        this.last_moves = [{ x: 0, y: 0, z: 0 }, { x: 0, y: 0, z: 0 }, { x: 0, y: 0, z: 0 }];\r\n        this.desired_point = this.vessel.space_pos;\r\n        this.bend = 0;\r\n        this.distance_from_player = 0;\r\n        this.capabilities = capabilities;\r\n        this.task = this.new_task();\r\n        this.accelerate = false;\r\n        this.aim = true;\r\n        this.align_height = false;\r\n        this.keep_distance = false;\r\n        this.last_shot = 0;\r\n        this.speed = 1;\r\n        this.max_speed = 3;\r\n        this.acceleration = 1.1;\r\n        this.kill_attempts = 0;\r\n    }\r\n    //randomly draws new action\r\n    new_task() {\r\n        if (this.capabilities.length == 1) {\r\n            return this.capabilities[0];\r\n        }\r\n        let new_task = this.capabilities[Math.floor(Math.random() * this.capabilities.length)];\r\n        while (new_task == this.task) {\r\n            new_task = this.capabilities[Math.floor(Math.random() * this.capabilities.length)];\r\n        }\r\n        return new_task;\r\n    }\r\n    //checks if vessel should bend\r\n    check_bend() {\r\n        if (this.last_moves[1].z * this.last_moves[0].z < -5 && this.last_moves[0].z < 0) {\r\n            this.vessel.texture = this.vessel.bend_texture;\r\n            this.bend = 10;\r\n        }\r\n    }\r\n    //update last moves array\r\n    update_last_move(move) {\r\n        this.last_moves[2] = this.last_moves[1];\r\n        this.last_moves[1] = this.last_moves[0];\r\n        this.last_moves[0] = move;\r\n    }\r\n    //moving entity back from the player\r\n    withdraw() {\r\n        if (this.vessel.space_pos.x - 196 < _globals__WEBPACK_IMPORTED_MODULE_0__.PLAYER.space_pos.x) {\r\n            this.current_move.x += 196 / (this.vessel.space_pos.x - _globals__WEBPACK_IMPORTED_MODULE_0__.PLAYER.space_pos.x);\r\n        }\r\n    }\r\n    //adjust entity height by the plyer position\r\n    adjust_height() {\r\n        this.current_move.y = -Math.sign(this.vessel.space_pos.y - _globals__WEBPACK_IMPORTED_MODULE_0__.PLAYER.space_pos.y);\r\n    }\r\n    //makes an entity roam randomly\r\n    roam() {\r\n        this.accelerate = true;\r\n        this.aim = true;\r\n        const change_desired_point = () => {\r\n            this.desired_point = {\r\n                x: Math.floor((Math.random() * 128) + _globals__WEBPACK_IMPORTED_MODULE_0__.PLAYER.space_pos.x + this.distance_from_player * 64),\r\n                y: Math.floor(Math.random() * 48),\r\n                z: Math.floor((Math.random() * 150) - 75)\r\n            };\r\n        };\r\n        if (this.desired_point.x < this.vessel.parent.renderer_xpos) {\r\n            change_desired_point();\r\n        }\r\n        let distance = Math.sqrt(Math.pow(this.desired_point.x - this.vessel.space_pos.x, 2) + Math.pow(this.desired_point.y - this.vessel.space_pos.y, 2) + Math.pow(this.desired_point.z - this.vessel.space_pos.z, 2));\r\n        if (distance > 50) {\r\n            this.move_to_point(this.desired_point);\r\n        }\r\n        else {\r\n            this.speed = 1;\r\n            change_desired_point();\r\n        }\r\n    }\r\n    //moves the entity to the player position\r\n    kamikaze() {\r\n        this.max_speed = 3;\r\n        this.accelerate = true;\r\n        this.aim = false;\r\n        if (this.vessel.space_pos.x < _globals__WEBPACK_IMPORTED_MODULE_0__.PLAYER.space_pos.x) {\r\n            this.aim = true;\r\n        }\r\n        if (Math.floor(this.vessel.space_pos.z / 16) != Math.floor(_globals__WEBPACK_IMPORTED_MODULE_0__.PLAYER.space_pos.z / 16) ||\r\n            Math.floor(this.vessel.space_pos.y / 1) != Math.floor(_globals__WEBPACK_IMPORTED_MODULE_0__.PLAYER.space_pos.y / 1)) {\r\n            this.desired_point = {\r\n                x: _globals__WEBPACK_IMPORTED_MODULE_0__.PLAYER.space_pos.x - 30,\r\n                y: _globals__WEBPACK_IMPORTED_MODULE_0__.PLAYER.space_pos.y,\r\n                z: _globals__WEBPACK_IMPORTED_MODULE_0__.PLAYER.space_pos.z\r\n            };\r\n        }\r\n        if (this.vessel.space_pos.x != this.desired_point.x ||\r\n            this.vessel.space_pos.y != this.desired_point.y ||\r\n            this.vessel.space_pos.z != this.desired_point.z) {\r\n            this.move_to_point(this.desired_point);\r\n        }\r\n        else {\r\n            this.desired_point = {\r\n                x: _globals__WEBPACK_IMPORTED_MODULE_0__.PLAYER.space_pos.x - 30,\r\n                y: _globals__WEBPACK_IMPORTED_MODULE_0__.PLAYER.space_pos.y,\r\n                z: _globals__WEBPACK_IMPORTED_MODULE_0__.PLAYER.space_pos.z\r\n            };\r\n        }\r\n    }\r\n    //mimics player behavior\r\n    mimic() {\r\n        this.keep_distance = true;\r\n        this.align_height = true;\r\n        this.accelerate = true;\r\n        this.aim = true;\r\n        this.max_speed = 2;\r\n        let move = { x: 0, y: 0, z: 0 };\r\n        let distance = this.vessel.space_pos.z - _globals__WEBPACK_IMPORTED_MODULE_0__.PLAYER.space_pos.z;\r\n        move.z = Math.floor(-distance / 20);\r\n        this.current_move.z += move.z;\r\n    }\r\n    //moves the entity to desired position\r\n    move_to_point(point) {\r\n        let pos = this.vessel.space_pos;\r\n        let distance = Math.sqrt(Math.pow(point.x - pos.x, 2) + Math.pow(point.z - pos.z, 2));\r\n        if (distance < 10 && this.vessel.name != 'PERSON') {\r\n            this.accelerate = false;\r\n            this.speed = this.speed / this.acceleration;\r\n        }\r\n        let direction = [\r\n            Math.floor(Math.sign(point.x - pos.x) * this.speed),\r\n            Math.floor(Math.sign(point.y - pos.y)),\r\n            Math.floor(Math.sign(point.z - pos.z) * this.speed)\r\n        ];\r\n        this.current_move.x += direction[0];\r\n        this.current_move.y += direction[1];\r\n        this.current_move.z += direction[2];\r\n    }\r\n    //default entity thinking process\r\n    think() {\r\n        this.current_move = { x: 0, y: 0, z: 0 };\r\n        //task menement\r\n        if (this.kill_attempts > 8) {\r\n            this.task = this.new_task();\r\n            this.kill_attempts = 0;\r\n        }\r\n        //handle bending\r\n        if (this.bend > 0) {\r\n            this.bend -= 1;\r\n            if (this.bend == 0) {\r\n                this.vessel.texture = this.vessel.normal_texture;\r\n            }\r\n        }\r\n        else {\r\n            this.check_bend();\r\n        }\r\n        //managing speed\r\n        if (this.speed > this.max_speed) {\r\n            this.accelerate = false;\r\n            this.speed = this.max_speed;\r\n        }\r\n        //aim handling\r\n        if (this.aim && !_globals__WEBPACK_IMPORTED_MODULE_0__.PLAYER.dead) {\r\n            if (_globals__WEBPACK_IMPORTED_MODULE_0__.PLAYER.space_pos.z == this.vessel.space_pos.z) {\r\n                this.vessel.fire();\r\n                this.kill_attempts++;\r\n                this.last_shot = Math.floor(Date.now() / 1000);\r\n            }\r\n            if (Math.floor(Date.now() / 1000) - this.last_shot > 20) {\r\n                this.vessel.fire();\r\n                this.kill_attempts++;\r\n                this.last_shot = Math.floor(Date.now() / 1000);\r\n            }\r\n        }\r\n        //acceleration\r\n        if (this.accelerate) {\r\n            this.speed *= this.acceleration;\r\n        }\r\n        //keep distance from the player\r\n        if (this.keep_distance) {\r\n            this.withdraw();\r\n        }\r\n        //adjust height\r\n        if (this.align_height) {\r\n            this.adjust_height();\r\n        }\r\n        //thinking process\r\n        switch (this.task) {\r\n            case 'reach':\r\n                this.aim = false;\r\n                this.keep_distance = false;\r\n                this.move_to_point(this.desired_point);\r\n                break;\r\n            case 'roam':\r\n                this.roam();\r\n                break;\r\n            case 'kamikaze':\r\n                this.kamikaze();\r\n                break;\r\n            case 'mimic':\r\n                this.mimic();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        //moving\r\n        this.vessel.move(this.current_move.x, this.current_move.y, this.current_move.z);\r\n        this.update_last_move(this.current_move);\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Mind);\r\n\n\n//# sourceURL=webpack://panther/./src/engine/AI.ts?");

/***/ }),

/***/ "./src/engine/background_objects.ts":
/*!******************************************!*\
  !*** ./src/engine/background_objects.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BiomesTransition\": () => (/* binding */ BiomesTransition),\n/* harmony export */   \"Bunker\": () => (/* binding */ Bunker),\n/* harmony export */   \"CHUNK_HEIGHT\": () => (/* binding */ CHUNK_HEIGHT),\n/* harmony export */   \"CHUNK_WIDTH\": () => (/* binding */ CHUNK_WIDTH),\n/* harmony export */   \"Chunk\": () => (/* binding */ Chunk),\n/* harmony export */   \"Decoration\": () => (/* binding */ Decoration),\n/* harmony export */   \"Plane\": () => (/* binding */ Plane),\n/* harmony export */   \"Wave\": () => (/* binding */ Wave)\n/* harmony export */ });\n/* harmony import */ var _base_object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base_object */ \"./src/engine/base_object.ts\");\n/* harmony import */ var _globals__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals */ \"./src/engine/globals.ts\");\n/* harmony import */ var _game_assets__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../game/assets */ \"./src/game/assets.ts\");\n/* harmony import */ var _entities_objects__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./entities_objects */ \"./src/engine/entities_objects.ts\");\n/* harmony import */ var _AI__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AI */ \"./src/engine/AI.ts\");\n/* harmony import */ var _game_action__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../game/action */ \"./src/game/action.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\nconst CHUNK_WIDTH = 128;\r\nconst CHUNK_HEIGHT = 256;\r\nclass Decoration extends _base_object__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(position, texture, animate, single_texture_width) {\r\n        super(position);\r\n        this.texture = texture;\r\n        this.animate = animate;\r\n        this.single_texture_width = single_texture_width;\r\n        this.to_draw_frame = 0;\r\n        if (!this.animate) {\r\n            this.to_draw_frame = Math.floor(Math.random() * (this.texture.width / this.single_texture_width)) * this.single_texture_width;\r\n        }\r\n    }\r\n    draw(ctx) {\r\n        if (this.animate) {\r\n            this.to_draw_frame += 0.1;\r\n            if (this.to_draw_frame > this.texture.width / this.single_texture_width) {\r\n                this.to_draw_frame = 0;\r\n            }\r\n        }\r\n        ctx.beginPath();\r\n        ctx.drawImage(this.texture, this.animate ? Math.floor(this.to_draw_frame) * this.single_texture_width : this.to_draw_frame, 0, this.single_texture_width, this.texture.height, this.screen_pos.x - this.single_texture_width / 2, this.screen_pos.y - this.texture.height / 2, this.single_texture_width, this.texture.height);\r\n        ctx.stroke();\r\n    }\r\n}\r\nclass Bunker extends Decoration {\r\n    constructor(position, texture, single_texture_width) {\r\n        super(position, texture, false, single_texture_width);\r\n        this.capacity = Math.floor(Math.random() * 3) + 5;\r\n    }\r\n    spawn_person() {\r\n        let person = new Person({ x: this.space_pos.x, y: this.space_pos.y - 8, z: this.space_pos.z }, _game_assets__WEBPACK_IMPORTED_MODULE_2__.TEXTURES.person_walking, this.space_pos);\r\n        person.parent = this.parent;\r\n        this.parent.scene_children[2].push(person);\r\n        this.capacity -= 1;\r\n    }\r\n    spawn_check() {\r\n        if (this.capacity == 0) {\r\n            return 0;\r\n        }\r\n        //if player close enough and on ground craete or move a person \r\n        if (_globals__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.y == 0) {\r\n            //check distance\r\n            let distance = (0,_globals__WEBPACK_IMPORTED_MODULE_1__.calculate_distance)(_globals__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos, this.space_pos);\r\n            if (distance < 80) {\r\n                //check if person already exists\r\n                let person_exists = false;\r\n                for (let obj of this.parent.scene_children[2]) {\r\n                    if (obj instanceof Person) {\r\n                        person_exists = true;\r\n                    }\r\n                }\r\n                //create new person if not\r\n                if (!person_exists) {\r\n                    this.spawn_person();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    draw(ctx) {\r\n        this.spawn_check();\r\n        ctx.beginPath();\r\n        ctx.drawImage(this.texture, this.to_draw_frame, 0, this.single_texture_width, this.texture.height, this.screen_pos.x - 8, this.screen_pos.y - 8, this.single_texture_width, this.texture.height);\r\n        ctx.stroke();\r\n    }\r\n}\r\nclass Wave extends Decoration {\r\n    constructor(position, texture, single_texture_width) {\r\n        super(position, texture, true, single_texture_width);\r\n        this.animation_frame = Math.floor(Math.random() * this.texture.width);\r\n    }\r\n    draw(ctx) {\r\n        this.animation_frame += 0.25;\r\n        if (this.animation_frame + this.single_texture_width > this.texture.width) {\r\n            this.animation_frame = 0;\r\n        }\r\n        ctx.beginPath();\r\n        ctx.drawImage(this.texture, this.animation_frame, 0, this.single_texture_width, this.texture.height, this.screen_pos.x - 8, this.screen_pos.y - 8, this.single_texture_width, this.texture.height);\r\n        ctx.stroke();\r\n    }\r\n}\r\nclass Person extends _entities_objects__WEBPACK_IMPORTED_MODULE_3__.Entity {\r\n    constructor(position, texture, bunker_pos) {\r\n        super(position, new Image(), new Image(), new Image());\r\n        this.texture = texture;\r\n        this.name = 'PERSON';\r\n        this.mind = new _AI__WEBPACK_IMPORTED_MODULE_4__[\"default\"](this, \"reach\");\r\n        this.mind.aim = false;\r\n        this.mind.max_speed = 1;\r\n        this.mind.desired_point = _globals__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos;\r\n        this.animation_frame = 0;\r\n        this.bunker_pos = bunker_pos;\r\n    }\r\n    check() {\r\n        let distance = (0,_globals__WEBPACK_IMPORTED_MODULE_1__.calculate_distance)(_globals__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos, this.bunker_pos);\r\n        if (_globals__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.y != 0 || distance > 80) {\r\n            this.mind.task = 'dummy';\r\n            this.texture = _game_assets__WEBPACK_IMPORTED_MODULE_2__.TEXTURES.person_waiting;\r\n        }\r\n        else if (this.mind.task == 'dummy' && distance <= 80) {\r\n            this.mind.task = \"reach\";\r\n            this.mind.desired_point = _globals__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos;\r\n            this.texture = _game_assets__WEBPACK_IMPORTED_MODULE_2__.TEXTURES.person_walking;\r\n        }\r\n        this.animation_frame += 0.15;\r\n        if (this.animation_frame > this.texture.width / 10) {\r\n            this.animation_frame = 0;\r\n        }\r\n        if (this.space_pos.x == _globals__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.x && this.space_pos.y == _globals__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.y && this.space_pos.z == _globals__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.z) {\r\n            this.kill(2);\r\n            (0,_game_action__WEBPACK_IMPORTED_MODULE_5__.person_collected)();\r\n        }\r\n    }\r\n    draw(ctx) {\r\n        this.mind.think();\r\n        this.check();\r\n        this.translate_self();\r\n        ctx.beginPath();\r\n        ctx.drawImage(this.texture, Math.floor(this.animation_frame) * 10, 0, 10, 8, this.screen_pos.x - 8, this.screen_pos.y - 8, 10, 8);\r\n        ctx.stroke();\r\n    }\r\n}\r\nclass Plane extends Decoration {\r\n    constructor(position, vertezies, color) {\r\n        super(position, new Image(), false, 0);\r\n        this.color = color;\r\n        this.vertezies = vertezies;\r\n    }\r\n    draw(ctx) {\r\n        let to_draw = [\r\n            this.translate_pos(this.vertezies[0], this.parent.renderer_xpos),\r\n            this.translate_pos(this.vertezies[1], this.parent.renderer_xpos),\r\n            this.translate_pos(this.vertezies[2], this.parent.renderer_xpos),\r\n            this.translate_pos(this.vertezies[3], this.parent.renderer_xpos)\r\n        ];\r\n        ctx.beginPath();\r\n        ctx.fillStyle = this.color;\r\n        ctx.moveTo(to_draw[0].x, to_draw[0].y);\r\n        ctx.lineTo(to_draw[2].x, to_draw[2].y);\r\n        ctx.lineTo(to_draw[3].x, to_draw[3].y);\r\n        ctx.lineTo(to_draw[1].x, to_draw[1].y);\r\n        ctx.fill();\r\n    }\r\n}\r\nclass BiomesTransition extends Decoration {\r\n    constructor(position, color, parent) {\r\n        super(position, new Image(), false, 0);\r\n        this.parent = parent;\r\n        this.color = color;\r\n    }\r\n    draw(ctx) {\r\n        this.translate_self();\r\n        this.vertezies = [\r\n            this.translate_pos({ x: this.space_pos.x + CHUNK_WIDTH, y: 0, z: this.space_pos.z - CHUNK_HEIGHT }, this.parent.renderer_xpos),\r\n            this.translate_pos({ x: this.space_pos.x + CHUNK_WIDTH, y: 0, z: this.space_pos.z + CHUNK_HEIGHT }, this.parent.renderer_xpos),\r\n            this.translate_pos({ x: this.space_pos.x + CHUNK_WIDTH * 8, y: 0, z: this.space_pos.z - CHUNK_HEIGHT }, this.parent.renderer_xpos),\r\n            this.translate_pos({ x: this.space_pos.x + CHUNK_WIDTH * 8, y: 0, z: this.space_pos.z + CHUNK_HEIGHT }, this.parent.renderer_xpos)\r\n        ];\r\n        ctx.beginPath();\r\n        ctx.moveTo(this.vertezies[0].x, this.vertezies[0].y);\r\n        ctx.lineTo(this.vertezies[2].x, this.vertezies[2].y);\r\n        ctx.lineTo(this.vertezies[3].x, this.vertezies[3].y);\r\n        ctx.lineTo(this.vertezies[1].x, this.vertezies[1].y);\r\n        ctx.fillStyle = this.color;\r\n        ctx.fill();\r\n    }\r\n}\r\nclass Chunk extends _base_object__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(position, parent, generation) {\r\n        super(position);\r\n        this.children = new Array();\r\n        this.parent = parent;\r\n        this.children = generation();\r\n        for (let child of this.children) {\r\n            if (child instanceof Plane) {\r\n                child.vertezies[0].x += this.space_pos.x;\r\n                child.vertezies[1].x += this.space_pos.x;\r\n                child.vertezies[2].x += this.space_pos.x;\r\n                child.vertezies[3].x += this.space_pos.x;\r\n            }\r\n            child.space_pos.x += this.space_pos.x;\r\n            if (child instanceof Bunker) {\r\n                child.spawn_person();\r\n            }\r\n        }\r\n    }\r\n    draw(ctx) {\r\n        for (let obj of this.children) {\r\n            obj.translate_self();\r\n            obj.draw(ctx);\r\n        }\r\n    }\r\n}\r\n\r\n\n\n//# sourceURL=webpack://panther/./src/engine/background_objects.ts?");

/***/ }),

/***/ "./src/engine/base_object.ts":
/*!***********************************!*\
  !*** ./src/engine/base_object.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _globals__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./globals */ \"./src/engine/globals.ts\");\n\r\nclass Object {\r\n    constructor(position, name) {\r\n        this.space_pos = position;\r\n        if (name) {\r\n            this.name = name;\r\n        }\r\n        else {\r\n            this.name = (0,_globals__WEBPACK_IMPORTED_MODULE_0__.generate_id)(8);\r\n        }\r\n    }\r\n    //translates virtual position to screen position\r\n    translate_pos(pos, renderer_xpos) {\r\n        const radius = pos.x - renderer_xpos;\r\n        const angle = Math.PI / 7;\r\n        return {\r\n            x: Math.floor(Math.cos(angle) * radius + pos.z * Math.cos(angle)),\r\n            y: Math.floor(-(Math.sin(angle) * radius) + pos.z * Math.sin(angle) + this.parent.canvas.height - pos.y)\r\n        };\r\n    }\r\n    translate_self() {\r\n        this.screen_pos = this.translate_pos(this.space_pos, this.parent.renderer_xpos);\r\n    }\r\n    //removes self from scene elements list\r\n    kill(scene_layer) {\r\n        for (let i = 0; i < this.parent.scene_children[scene_layer].length; i++) {\r\n            if (this.parent.scene_children[scene_layer][i] == this) {\r\n                this.parent.scene_children[scene_layer].splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n    calc_axes() {\r\n        let renderer_xpos = this.parent.renderer_xpos;\r\n        let pos = this.space_pos;\r\n        return [\r\n            this.translate_pos({ x: pos.x - 400, y: pos.y, z: pos.z }, renderer_xpos),\r\n            this.translate_pos({ x: pos.x + 400, y: pos.y, z: pos.z }, renderer_xpos),\r\n            this.translate_pos({ x: pos.x, y: pos.y - 400, z: pos.z }, renderer_xpos),\r\n            this.translate_pos({ x: pos.x, y: pos.y + 400, z: pos.z }, renderer_xpos),\r\n            this.translate_pos({ x: pos.x, y: pos.y, z: pos.z - 400 }, renderer_xpos),\r\n            this.translate_pos({ x: pos.x, y: pos.y, z: pos.z + 400 }, renderer_xpos)\r\n        ];\r\n    }\r\n    draw_axes(ctx) {\r\n        const axes = this.calc_axes();\r\n        ctx.beginPath();\r\n        ctx.strokeStyle = '#ff0000';\r\n        ctx.moveTo(axes[0].x, axes[0].y);\r\n        ctx.lineTo(axes[1].x, axes[1].y);\r\n        ctx.stroke();\r\n        ctx.beginPath();\r\n        ctx.strokeStyle = '#00ff00';\r\n        ctx.moveTo(axes[2].x, axes[2].y + 100);\r\n        ctx.lineTo(axes[3].x, axes[3].y - 100);\r\n        ctx.stroke();\r\n        ctx.beginPath();\r\n        ctx.strokeStyle = '#0000ff';\r\n        ctx.moveTo(axes[4].x, axes[4].y);\r\n        ctx.lineTo(axes[5].x, axes[5].y);\r\n        ctx.stroke();\r\n    }\r\n    draw(ctx) {\r\n        console.error('None draw method inherited;\\nMost likely wrong Object instance created');\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Object);\r\n\n\n//# sourceURL=webpack://panther/./src/engine/base_object.ts?");

/***/ }),

/***/ "./src/engine/entities_objects.ts":
/*!****************************************!*\
  !*** ./src/engine/entities_objects.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Entity\": () => (/* binding */ Entity),\n/* harmony export */   \"Explosion\": () => (/* binding */ Explosion),\n/* harmony export */   \"Projectile\": () => (/* binding */ Projectile)\n/* harmony export */ });\n/* harmony import */ var _base_object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base_object */ \"./src/engine/base_object.ts\");\n/* harmony import */ var _globals__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals */ \"./src/engine/globals.ts\");\n/* harmony import */ var _AI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AI */ \"./src/engine/AI.ts\");\n/* harmony import */ var _game_assets__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../game/assets */ \"./src/game/assets.ts\");\n/* harmony import */ var _game_main__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../game/main */ \"./src/game/main.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass Entity extends _base_object__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\r\n    constructor(position, texture, shadowTexture, projectileTexture, name, bend_texture) {\r\n        super(position);\r\n        if (name) {\r\n            this.name = name;\r\n        }\r\n        else {\r\n            this.name = 'ENEMY' + (0,_globals__WEBPACK_IMPORTED_MODULE_1__.generate_id)(4);\r\n        }\r\n        if (bend_texture) {\r\n            this.bend_texture = bend_texture;\r\n            this.normal_texture = texture;\r\n        }\r\n        this.texture = texture;\r\n        this.shadow_texture = shadowTexture;\r\n        this.projectile_texture = projectileTexture;\r\n        this.dead = false;\r\n        this.cooldown = 0;\r\n        this.animation_frame = 0;\r\n        this.murders = 0;\r\n    }\r\n    //makes an entity intelligent\r\n    set_intelligence(...args) {\r\n        this.mind = new _AI__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this, ...args);\r\n    }\r\n    //creates and gives movement to a projectile\r\n    fire(friendly) {\r\n        if (this.cooldown != 0) {\r\n            return 0;\r\n        }\r\n        let speed = -10;\r\n        if (friendly) {\r\n            speed *= -1;\r\n        }\r\n        let proj_pos = {\r\n            x: this.space_pos.x,\r\n            y: this.space_pos.y,\r\n            z: this.space_pos.z\r\n        };\r\n        let destination = {\r\n            x: _globals__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.x,\r\n            y: _globals__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.y,\r\n            z: _globals__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.z\r\n        };\r\n        if (friendly) {\r\n            destination.x += 500;\r\n        }\r\n        this.parent.add_projectile(new Projectile(proj_pos, this, this.projectile_texture, speed, destination));\r\n        this.cooldown = 24;\r\n    }\r\n    //moves an entity out of screen\r\n    move_out() {\r\n        this.mind.task = 'reach';\r\n        this.mind.speed = 3;\r\n        this.mind.desired_point = { x: this.space_pos.x - 500, y: this.space_pos.y, z: this.space_pos.z + (Math.random() * 2 - 1) * 30 };\r\n    }\r\n    //moves an object by desired position\r\n    move(x, y, z) {\r\n        this.space_pos = {\r\n            x: this.space_pos.x + x,\r\n            y: this.space_pos.y + y,\r\n            z: this.space_pos.z + z\r\n        };\r\n        if (y < 0 && this.space_pos.y < 1) {\r\n            this.space_pos.y = 0;\r\n        }\r\n        if (this.name != 'PERSON') {\r\n            this.collision_check();\r\n        }\r\n        this.translate_self();\r\n    }\r\n    collision_check() {\r\n        let forgive = 6;\r\n        //background elements collision\r\n        if (this.space_pos.y == 0) {\r\n            for (let el of this.parent.killer_positions) {\r\n                if (el.x < this.space_pos.x + forgive && el.x > this.space_pos.x - forgive && el.z < this.space_pos.z + forgive && el.z > this.space_pos.z - forgive) {\r\n                    if (this.name == 'PROJECTILE') {\r\n                        return 0;\r\n                    }\r\n                    if (this.name == 'PLAYER') {\r\n                        this.dead = true;\r\n                    }\r\n                    this.kill(1);\r\n                    this.parent.add_entity(new Explosion(this.space_pos, _game_assets__WEBPACK_IMPORTED_MODULE_3__.TEXTURES.explosion, _game_assets__WEBPACK_IMPORTED_MODULE_3__.TEXTURES.explosion_shadow, ['', this.name]));\r\n                }\r\n            }\r\n        }\r\n        //only if not player\r\n        if (this.name == 'PLAYER') {\r\n            return 0;\r\n        }\r\n        forgive = 12;\r\n        for (let obj of this.parent.scene_children[1]) {\r\n            //position check\r\n            if (this.space_pos.x < obj.space_pos.x + forgive && this.space_pos.x > obj.space_pos.x - forgive) {\r\n                if (this.space_pos.y < obj.space_pos.y + forgive && this.space_pos.y > obj.space_pos.y - forgive) {\r\n                    if (this.space_pos.z < obj.space_pos.z + forgive && this.space_pos.z > obj.space_pos.z - forgive) {\r\n                        if (obj.name != this.name && obj.name != 'EXPLOSION' && obj.name != 'PERSON') {\r\n                            if (this.name.includes('ENEMY') && obj.name.includes('ENEMY')) {\r\n                                return 0;\r\n                            }\r\n                            if (this.name == 'PLAYER' && this.dead || obj.name == 'PLAYER' && obj.dead) {\r\n                                return 0;\r\n                            }\r\n                            //shooter escape\r\n                            if (this instanceof Projectile) {\r\n                                if (this.shooter.name == obj.name) {\r\n                                    return 0;\r\n                                }\r\n                                if (this.shooter.name != 'PLAYER') {\r\n                                    this.shooter.move_out();\r\n                                }\r\n                                this.shooter.murders++;\r\n                            }\r\n                            if (obj.name == 'PLAYER' || this.name == 'PLAYER') {\r\n                                _globals__WEBPACK_IMPORTED_MODULE_1__.PLAYER.dead = true;\r\n                            }\r\n                            this.parent.add_entity(new Explosion(obj.space_pos, _game_assets__WEBPACK_IMPORTED_MODULE_3__.TEXTURES.explosion, _game_assets__WEBPACK_IMPORTED_MODULE_3__.TEXTURES.explosion_shadow, [obj.name, this.name]));\r\n                            obj.kill(1);\r\n                            this.kill(1);\r\n                            this.kill(2);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    //draws an object and makes the next move (if mind declared)\r\n    draw(ctx) {\r\n        if (this.cooldown > 0) {\r\n            this.cooldown--;\r\n        }\r\n        //draw axes if enabled\r\n        if (this.show_axes) {\r\n            this.draw_axes(ctx);\r\n        }\r\n        //think if inteligent\r\n        if (this.mind) {\r\n            this.mind.think();\r\n        }\r\n        ctx.beginPath();\r\n        ctx.drawImage(this.texture, Math.floor(this.animation_frame) * 16, 0, 16, 8, this.screen_pos.x - 8, this.screen_pos.y - 8, 16, 8);\r\n        ctx.stroke();\r\n        this.animation_frame += 0.15;\r\n        if (this.name == 'PLAYER' && this.dead == true) {\r\n            this.animation_frame += 0.60;\r\n        }\r\n        if (this.animation_frame > this.texture.width / 16) {\r\n            this.animation_frame = 0;\r\n        }\r\n    }\r\n    draw_shadow(ctx) {\r\n        let frame = 0;\r\n        if (this.shadow_texture.width > 16) {\r\n            frame = Math.floor(this.animation_frame) * 16;\r\n        }\r\n        ctx.beginPath();\r\n        ctx.drawImage(this.shadow_texture, frame, 0, 16, 8, this.screen_pos.x - 8, this.screen_pos.y + this.space_pos.y - 4, 18, 8);\r\n        ctx.stroke();\r\n    }\r\n}\r\nclass Projectile extends Entity {\r\n    constructor(postition, shooter, texture, speed, destination) {\r\n        super(postition, texture, new Image(), new Image());\r\n        this.name = 'PROJECTILE';\r\n        this.shooter = shooter;\r\n        this.speed = speed;\r\n        this.time_to_live = 128;\r\n        this.destination = destination;\r\n        this.mv_vector = {\r\n            x: Math.sign(this.destination.x - this.space_pos.x) * 8,\r\n            y: 0,\r\n            z: Math.sign(this.destination.z - this.space_pos.z) * 8\r\n        };\r\n    }\r\n    //projectile move\r\n    move() {\r\n        this.time_to_live--;\r\n        if (this.time_to_live == 0) {\r\n            this.kill(2);\r\n        }\r\n        this.space_pos = {\r\n            x: this.space_pos.x + this.mv_vector.x * _game_main__WEBPACK_IMPORTED_MODULE_4__.SPEED,\r\n            y: this.space_pos.y + this.mv_vector.y,\r\n            z: this.space_pos.z + this.mv_vector.z\r\n        };\r\n        this.collision_check();\r\n        this.translate_self();\r\n    }\r\n}\r\nclass Explosion extends Entity {\r\n    constructor(position, texture, shadow_texture, victims) {\r\n        super(position, texture, shadow_texture, new Image());\r\n        this.name = 'EXPLOSION';\r\n        this.victims = victims;\r\n    }\r\n    draw(ctx) {\r\n        ctx.beginPath();\r\n        ctx.drawImage(this.texture, Math.floor(this.animation_frame) * 16, 0, 16, 8, this.screen_pos.x - 8, this.screen_pos.y - 8, 18, 10);\r\n        ctx.stroke();\r\n        this.animation_frame += 0.4;\r\n        if (this.animation_frame > this.texture.width / 16) {\r\n            this.kill(1);\r\n        }\r\n    }\r\n}\r\n\r\n\n\n//# sourceURL=webpack://panther/./src/engine/entities_objects.ts?");

/***/ }),

/***/ "./src/engine/globals.ts":
/*!*******************************!*\
  !*** ./src/engine/globals.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PLAYER\": () => (/* binding */ PLAYER),\n/* harmony export */   \"add_by_order\": () => (/* binding */ add_by_order),\n/* harmony export */   \"calculate_distance\": () => (/* binding */ calculate_distance),\n/* harmony export */   \"generate_id\": () => (/* binding */ generate_id),\n/* harmony export */   \"set_player_global\": () => (/* binding */ set_player_global)\n/* harmony export */ });\nlet PLAYER;\r\n//sets player pos\r\nconst set_player_global = (what) => {\r\n    PLAYER = what;\r\n};\r\n//function returns the best index to append\r\nconst add_by_order = (array, element) => {\r\n    if (array.length == 0) {\r\n        return 0;\r\n    }\r\n    let index = Math.floor(array.length / 2);\r\n    while (true) {\r\n        if (index == array.length - 1 && array[index] <= element) {\r\n            break;\r\n        }\r\n        if (index == 0 && array[index] > element) {\r\n            break;\r\n        }\r\n        if (array[index] > element) {\r\n            index = Math.floor(index / 2);\r\n            continue;\r\n        }\r\n        if (array[index + 1] < element) {\r\n            index += Math.ceil(index / 2);\r\n            continue;\r\n        }\r\n        break;\r\n    }\r\n    return index;\r\n};\r\n//generates id with given length\r\nconst generate_id = (length) => {\r\n    const chars = 'abcdefghijklmnoprstuwvxyz0123456789';\r\n    let output = '';\r\n    for (let i = 0; i < length; i++) {\r\n        output += chars[Math.floor(Math.random() * chars.length)];\r\n    }\r\n    return output;\r\n};\r\n//calculates distance between 2 points\r\nconst calculate_distance = (A, B) => {\r\n    return Math.sqrt(Math.pow(B.x - A.x, 2) + Math.pow(B.z - A.z, 2));\r\n};\r\n\n\n//# sourceURL=webpack://panther/./src/engine/globals.ts?");

/***/ }),

/***/ "./src/engine/view.ts":
/*!****************************!*\
  !*** ./src/engine/view.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _entities_objects__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./entities_objects */ \"./src/engine/entities_objects.ts\");\n/* harmony import */ var _background_objects__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./background_objects */ \"./src/engine/background_objects.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\nclass View {\r\n    constructor(canvas) {\r\n        this.canvas = canvas;\r\n        this.ctx = canvas.getContext('2d');\r\n        this.ctx.imageSmoothingEnabled = false;\r\n        this.scene_children = [[], [], []];\r\n        this.renderer_xpos = 0;\r\n        this.let_render = false;\r\n        this.draw_road = true;\r\n        this.road_end = false;\r\n        this.killer_positions = new Array();\r\n        this.total_loops = 0;\r\n    }\r\n    //adds a projectile\r\n    add_projectile(what) {\r\n        what.parent = this;\r\n        what.translate_self();\r\n        this.scene_children[2].push(what);\r\n    }\r\n    //adds an entity to the scene\r\n    add_entity(...args) {\r\n        let array = new Array();\r\n        for (let child of this.scene_children[1]) {\r\n            array.push(child.space_pos.y);\r\n        }\r\n        for (let obj of args) {\r\n            obj.parent = this;\r\n            obj.translate_self();\r\n            this.scene_children[1].push(obj);\r\n        }\r\n    }\r\n    //moves render x position\r\n    move_rendering_space(value) {\r\n        this.renderer_xpos += value;\r\n        for (const child of this.scene_children[1]) {\r\n            child.translate_self();\r\n        }\r\n    }\r\n    //sets default scene background color\r\n    set_background(color, background_generation) {\r\n        this.background_color = color;\r\n        this.background_generation = background_generation;\r\n        if (this.scene_children[0].length == 0) {\r\n            for (let i = 0; i < 5; i++) {\r\n                let new_chunk = new _background_objects__WEBPACK_IMPORTED_MODULE_1__.Chunk({ x: (i - 1) * _background_objects__WEBPACK_IMPORTED_MODULE_1__.CHUNK_WIDTH, y: 0, z: 0 }, this, this.background_generation);\r\n                new_chunk.parent = this;\r\n                this.scene_children[0].push(new_chunk);\r\n            }\r\n        }\r\n    }\r\n    //find by name\r\n    find(name) {\r\n        for (let object of this.scene_children[1]) {\r\n            if (object.name == name) {\r\n                return object;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    //generate background\r\n    new_background_chunk() {\r\n        //add new chunk\r\n        let new_chunk = new _background_objects__WEBPACK_IMPORTED_MODULE_1__.Chunk({\r\n            x: this.scene_children[0][this.scene_children[0].length - 1].space_pos.x + _background_objects__WEBPACK_IMPORTED_MODULE_1__.CHUNK_WIDTH,\r\n            y: 0,\r\n            z: 100\r\n        }, this, this.background_generation);\r\n        if (this.road_end) {\r\n            this.road_end = false;\r\n        }\r\n        this.scene_children[0].push(new_chunk);\r\n    }\r\n    //remove elements out of view\r\n    remove_unseen() {\r\n        for (let j = 0; j < this.scene_children.length; j++) {\r\n            for (let i = 0; i < this.scene_children[j].length; i++) {\r\n                if (this.scene_children[j][i].space_pos.x + _background_objects__WEBPACK_IMPORTED_MODULE_1__.CHUNK_WIDTH < this.renderer_xpos) {\r\n                    if (j == 0 && this.scene_children[j][i] instanceof _background_objects__WEBPACK_IMPORTED_MODULE_1__.BiomesTransition) {\r\n                        continue;\r\n                    }\r\n                    this.scene_children[j].splice(i, 1);\r\n                    if (j == 0) {\r\n                        this.new_background_chunk();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        for (let i = 0; i < this.killer_positions.length; i++) {\r\n            if (this.killer_positions[i].x < this.renderer_xpos) {\r\n                this.killer_positions.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n    //draw scene scene_children on the screen\r\n    draw_scene() {\r\n        //background draw\r\n        for (let chunk of this.scene_children[0]) {\r\n            if (chunk.space_pos.x < this.renderer_xpos + this.canvas.width * 1.5) {\r\n                chunk.draw(this.ctx);\r\n            }\r\n        }\r\n        //shadow draw\r\n        for (let object of this.scene_children[1]) {\r\n            if (object.space_pos.x > this.renderer_xpos && object.space_pos.x < this.renderer_xpos + this.canvas.width * 1.5) {\r\n                object.draw_shadow(this.ctx);\r\n            }\r\n        }\r\n        //entity draw\r\n        for (let object of this.scene_children[1]) {\r\n            if (object.space_pos.x > this.renderer_xpos && object.space_pos.x < this.renderer_xpos + this.canvas.width * 1.5) {\r\n                object.draw(this.ctx);\r\n            }\r\n        }\r\n        //projectiles draw\r\n        for (let object of this.scene_children[2]) {\r\n            if (object.space_pos.x > this.renderer_xpos && object.space_pos.x < this.renderer_xpos + this.canvas.width * 1.5) {\r\n                object.draw(this.ctx);\r\n            }\r\n        }\r\n    }\r\n    //stop rendering\r\n    stop_render() {\r\n        this.let_render = false;\r\n    }\r\n    //view repeating render\r\n    render(action) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.let_render = true;\r\n            let request_id;\r\n            const frame = () => {\r\n                this.total_loops++;\r\n                //remove out of view objects\r\n                this.remove_unseen();\r\n                //move projectiles\r\n                for (let obj of this.scene_children[2]) {\r\n                    if (obj instanceof _entities_objects__WEBPACK_IMPORTED_MODULE_0__.Projectile) {\r\n                        obj.move();\r\n                    }\r\n                }\r\n                action();\r\n                //clear view\r\n                this.ctx.beginPath();\r\n                this.ctx.fillStyle = this.background_color;\r\n                this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n                this.ctx.stroke();\r\n                //draw new view\r\n                this.draw_scene();\r\n                if (this.let_render) {\r\n                    window.requestAnimationFrame(frame);\r\n                }\r\n            };\r\n            request_id = window.requestAnimationFrame(frame);\r\n        });\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (View);\r\n\n\n//# sourceURL=webpack://panther/./src/engine/view.ts?");

/***/ }),

/***/ "./src/game/action.ts":
/*!****************************!*\
  !*** ./src/game/action.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ALLOW_MOVEMENT\": () => (/* binding */ ALLOW_MOVEMENT),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"person_collected\": () => (/* binding */ person_collected),\n/* harmony export */   \"set_message\": () => (/* binding */ set_message)\n/* harmony export */ });\n/* harmony import */ var _engine_entities_objects__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../engine/entities_objects */ \"./src/engine/entities_objects.ts\");\n/* harmony import */ var _main__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./main */ \"./src/game/main.ts\");\n/* harmony import */ var _assets__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./assets */ \"./src/game/assets.ts\");\n/* harmony import */ var _background_generation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./background_generation */ \"./src/game/background_generation.ts\");\n/* harmony import */ var _engine_background_objects__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../engine/background_objects */ \"./src/engine/background_objects.ts\");\n/* harmony import */ var _control_panel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./control_panel */ \"./src/game/control_panel.ts\");\n/* harmony import */ var _platform__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./platform */ \"./src/game/platform.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet reviving = 100;\r\nlet ALLOW_MOVEMENT = true;\r\nlet LIVES = 5;\r\nlet PEOPLE_COLLECTED = 0;\r\nlet GENERATION_STEPS = 0;\r\nlet MESSAGE = 'rescue mission engaged';\r\nlet MSG_TIME = 80;\r\nconst person_collected = () => {\r\n    PEOPLE_COLLECTED++;\r\n    set_message('survivor rescued', 30);\r\n};\r\n//set message\r\nconst set_message = (msg, time) => {\r\n    MESSAGE = msg;\r\n    MSG_TIME = time;\r\n};\r\n//generates new enemies wave\r\nconst new_wave = (type) => {\r\n    let skins = [\r\n        _main__WEBPACK_IMPORTED_MODULE_1__.ENEMIES_TEXTURES[Math.floor(Math.random() * _main__WEBPACK_IMPORTED_MODULE_1__.ENEMIES_TEXTURES.length)], _main__WEBPACK_IMPORTED_MODULE_1__.ENEMIES_TEXTURES[Math.floor(Math.random() * _main__WEBPACK_IMPORTED_MODULE_1__.ENEMIES_TEXTURES.length)]\r\n    ];\r\n    set_message(type + ' wave engaged', 50);\r\n    let enemies = new Array();\r\n    let quantity = 0;\r\n    let inteligence = new Array();\r\n    switch (type) {\r\n        case 'alpha':\r\n            quantity = 1;\r\n            inteligence = ['roam'];\r\n            break;\r\n        case 'beta':\r\n            quantity = 2;\r\n            inteligence = ['roam'];\r\n            break;\r\n        case 'gamma':\r\n            quantity = 3;\r\n            inteligence = ['roam', 'kamikaze'];\r\n            break;\r\n        case 'delta':\r\n            quantity = 4;\r\n            inteligence = ['roam', 'kamikaze', 'mimic'];\r\n            break;\r\n        case 'epsilon':\r\n            quantity = 5;\r\n            inteligence = ['roam', 'kamikaze', 'mimic'];\r\n            break;\r\n        default: break;\r\n    }\r\n    for (let i = 0; i < quantity; i++) {\r\n        let skin_index = Math.floor(Math.random() * skins.length);\r\n        let enemy = new _engine_entities_objects__WEBPACK_IMPORTED_MODULE_0__.Entity({ x: _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.x + 256, y: Math.floor(Math.random() * 20) + 30, z: -30 + i * 10 }, skins[skin_index][1], _assets__WEBPACK_IMPORTED_MODULE_2__.TEXTURES.enemy_shadow, _assets__WEBPACK_IMPORTED_MODULE_2__.TEXTURES.enemy_projectile, undefined, skins[skin_index][0]);\r\n        enemy.set_intelligence(...inteligence);\r\n        enemy.mind.distance_from_player = Math.ceil(3 / (Math.ceil(_main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.x / 5000)));\r\n        enemies.push(enemy);\r\n    }\r\n    _main__WEBPACK_IMPORTED_MODULE_1__.VIEW.add_entity(...enemies);\r\n};\r\n//handling keys\r\nlet PRESSED = '';\r\ndocument.onkeydown = (e) => {\r\n    if (!ALLOW_MOVEMENT) {\r\n        return 0;\r\n    }\r\n    if (!PRESSED.includes(e.code)) {\r\n        PRESSED += e.code;\r\n        if (e.code == 'Escape') {\r\n            pause();\r\n        }\r\n        if (e.code == 'Space') {\r\n            start_game();\r\n        }\r\n    }\r\n};\r\ndocument.onkeyup = (e) => {\r\n    PRESSED = PRESSED.replace(e.code, '');\r\n};\r\nwindow.addEventListener('touchstart', () => { start_game(); });\r\nwindow.onclick = () => {\r\n    if (_platform__WEBPACK_IMPORTED_MODULE_6__.PHONE_MOTION.isMobile) {\r\n        start_game();\r\n    }\r\n};\r\n//starting game\r\nconst start_game = () => {\r\n    if (_platform__WEBPACK_IMPORTED_MODULE_6__.PHONE_MOTION.isMobile) {\r\n        try {\r\n            document.body.requestFullscreen();\r\n        }\r\n        catch (error) {\r\n            console.log('element could not enter fullscreen');\r\n        }\r\n    }\r\n    if (!_platform__WEBPACK_IMPORTED_MODULE_6__.PHONE_MOTION.isMobile && document.getElementById('sound').checked) {\r\n        _assets__WEBPACK_IMPORTED_MODULE_2__.THEME.volume = 0.2;\r\n        _assets__WEBPACK_IMPORTED_MODULE_2__.THEME.play();\r\n    }\r\n    else {\r\n        _assets__WEBPACK_IMPORTED_MODULE_2__.THEME.volume = 0;\r\n    }\r\n    let startscreen = document.getElementById('start-screen');\r\n    if (startscreen) {\r\n        PRESSED = '';\r\n        startscreen.remove();\r\n        _main__WEBPACK_IMPORTED_MODULE_1__.VIEW.render(render_action);\r\n        let generation = () => {\r\n            return (0,_background_generation__WEBPACK_IMPORTED_MODULE_3__.generate_desert_background)(false, true, _main__WEBPACK_IMPORTED_MODULE_1__.VIEW);\r\n        };\r\n        _main__WEBPACK_IMPORTED_MODULE_1__.VIEW.set_background('#552500', generation);\r\n        _main__WEBPACK_IMPORTED_MODULE_1__.CANVAS.style.imageRendering = 'pixelated';\r\n    }\r\n};\r\n//pausing\r\nconst pause = () => {\r\n    let prompt = document.getElementById('pause');\r\n    if (prompt == null) {\r\n        _assets__WEBPACK_IMPORTED_MODULE_2__.THEME.pause();\r\n        _main__WEBPACK_IMPORTED_MODULE_1__.VIEW.stop_render();\r\n        let pause = document.createElement('p');\r\n        pause.id = 'pause';\r\n        pause.innerHTML = 'PAUSED';\r\n        document.body.append(pause);\r\n    }\r\n    else {\r\n        _assets__WEBPACK_IMPORTED_MODULE_2__.THEME.play();\r\n        prompt.remove();\r\n        _main__WEBPACK_IMPORTED_MODULE_1__.VIEW.render(render_action);\r\n    }\r\n};\r\n//handle player dying\r\nconst player_death = (reviving) => {\r\n    if (_main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.y > 10) {\r\n        _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.move(0, -1, 0);\r\n    }\r\n    else if (_main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.y < 10) {\r\n        _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.move(0, 10 - _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.y, 0);\r\n    }\r\n    PRESSED = '';\r\n    for (let el of _main__WEBPACK_IMPORTED_MODULE_1__.VIEW.scene_children[1]) {\r\n        if (el instanceof _engine_entities_objects__WEBPACK_IMPORTED_MODULE_0__.Explosion) {\r\n            if (el.victims[0] == 'PLAYER' || el.victims[1] == 'PLAYER') {\r\n                el.space_pos = _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos;\r\n            }\r\n        }\r\n    }\r\n    switch (reviving) {\r\n        case 100:\r\n            _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.dead = true;\r\n            LIVES -= 1;\r\n            ALLOW_MOVEMENT = false;\r\n            break;\r\n        case 50:\r\n            _main__WEBPACK_IMPORTED_MODULE_1__.VIEW.add_entity(_main__WEBPACK_IMPORTED_MODULE_1__.PLAYER);\r\n            _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.texture = _assets__WEBPACK_IMPORTED_MODULE_2__.TEXTURES.explosion_shadow;\r\n            break;\r\n        case 20:\r\n            _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.texture = _assets__WEBPACK_IMPORTED_MODULE_2__.TEXTURES.player;\r\n            ALLOW_MOVEMENT = true;\r\n            break;\r\n        case 0:\r\n            reviving = 101;\r\n            _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.dead = false;\r\n        default:\r\n            break;\r\n    }\r\n    reviving -= 1;\r\n    return reviving;\r\n};\r\n//moves all enemies out of screen\r\nconst enemies_escape = () => {\r\n    for (let entity of _main__WEBPACK_IMPORTED_MODULE_1__.VIEW.scene_children[1]) {\r\n        if (entity.name.includes('ENEMY')) {\r\n            entity.move_out();\r\n        }\r\n    }\r\n};\r\nconst render_action = () => {\r\n    (0,_control_panel__WEBPACK_IMPORTED_MODULE_5__.handle_control_panel)(MESSAGE, PEOPLE_COLLECTED * 500 + _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.murders * 600, PEOPLE_COLLECTED, LIVES, (0,_control_panel__WEBPACK_IMPORTED_MODULE_5__.get_radar_positions)(_main__WEBPACK_IMPORTED_MODULE_1__.VIEW.scene_children[1], _main__WEBPACK_IMPORTED_MODULE_1__.VIEW.renderer_xpos));\r\n    let movement = [0, 0, 0];\r\n    if (_main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.dead) {\r\n        reviving = player_death(reviving);\r\n    }\r\n    //KEYS HANDLING\r\n    if (_platform__WEBPACK_IMPORTED_MODULE_6__.PHONE_MOTION.isMobile) {\r\n        movement = (0,_platform__WEBPACK_IMPORTED_MODULE_6__.phone_movement)();\r\n    }\r\n    //movement\r\n    if (_main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.y != 0) {\r\n        if (PRESSED.includes('KeyD') && _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.z < 64) {\r\n            movement[2] = 4;\r\n        }\r\n        else if (PRESSED.includes('KeyA') && _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.z > -64) {\r\n            movement[2] = -4;\r\n        }\r\n    }\r\n    if (PRESSED.includes('KeyS')) {\r\n        if (_main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.y >= 0 && _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.y < 48) {\r\n            movement[1] = 2;\r\n        }\r\n    }\r\n    else if (PRESSED.includes('KeyW')) {\r\n        if (_main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.y > 0 && _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.y <= 48) {\r\n            movement[1] = -2;\r\n        }\r\n    }\r\n    //shooting\r\n    if (PRESSED.includes('Space')) {\r\n        PRESSED = PRESSED.replace('Space', '');\r\n        _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.fire(true);\r\n    }\r\n    movement[0] = Math.floor(_main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.y * _main__WEBPACK_IMPORTED_MODULE_1__.SPEED / 16);\r\n    if (movement[0] != 0 || movement[1] != 0 || movement[2] != 0) {\r\n        _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.move(movement[0], movement[1], movement[2]);\r\n        _main__WEBPACK_IMPORTED_MODULE_1__.VIEW.move_rendering_space(movement[0]);\r\n    }\r\n    //zoom out\r\n    if (PRESSED.includes('KeyZ')) {\r\n        if (PRESSED.includes('KeyO')) {\r\n            _main__WEBPACK_IMPORTED_MODULE_1__.CANVAS.width = 1152;\r\n            _main__WEBPACK_IMPORTED_MODULE_1__.CANVAS.height = 690;\r\n        }\r\n        else if (PRESSED.includes('KeyI')) {\r\n            _main__WEBPACK_IMPORTED_MODULE_1__.CANVAS.width = 384;\r\n            _main__WEBPACK_IMPORTED_MODULE_1__.CANVAS.height = 230;\r\n        }\r\n    }\r\n    //mute\r\n    if (PRESSED.includes('KeyM')) {\r\n        _assets__WEBPACK_IMPORTED_MODULE_2__.THEME.pause();\r\n    }\r\n    //change background\r\n    if (_main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.x > 8000 && _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.x < 8000 + _engine_background_objects__WEBPACK_IMPORTED_MODULE_4__.CHUNK_WIDTH) {\r\n        if (GENERATION_STEPS == 0) {\r\n            _main__WEBPACK_IMPORTED_MODULE_1__.VIEW.background_generation = () => { return (0,_background_generation__WEBPACK_IMPORTED_MODULE_3__.generate_desert_background)(true, false, _main__WEBPACK_IMPORTED_MODULE_1__.VIEW); };\r\n            GENERATION_STEPS++;\r\n        }\r\n    }\r\n    if (_main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.x > 8000 + _engine_background_objects__WEBPACK_IMPORTED_MODULE_4__.CHUNK_WIDTH && _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.x < 8000 + 2 * _engine_background_objects__WEBPACK_IMPORTED_MODULE_4__.CHUNK_WIDTH) {\r\n        if (GENERATION_STEPS == 1) {\r\n            _main__WEBPACK_IMPORTED_MODULE_1__.VIEW.background_generation = () => { return (0,_background_generation__WEBPACK_IMPORTED_MODULE_3__.generate_desert_background)(false, false, _main__WEBPACK_IMPORTED_MODULE_1__.VIEW); };\r\n            GENERATION_STEPS++;\r\n        }\r\n    }\r\n    if (_main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.x > 12000 + _engine_background_objects__WEBPACK_IMPORTED_MODULE_4__.CHUNK_WIDTH && _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.x < 12000 + 2 * _engine_background_objects__WEBPACK_IMPORTED_MODULE_4__.CHUNK_WIDTH) {\r\n        if (GENERATION_STEPS == 2) {\r\n            let transition = new _engine_background_objects__WEBPACK_IMPORTED_MODULE_4__.BiomesTransition({ x: _main__WEBPACK_IMPORTED_MODULE_1__.VIEW.scene_children[0][_main__WEBPACK_IMPORTED_MODULE_1__.VIEW.scene_children[0].length - 1].space_pos.x, y: 0, z: 0 }, '#00651a', _main__WEBPACK_IMPORTED_MODULE_1__.VIEW);\r\n            _main__WEBPACK_IMPORTED_MODULE_1__.VIEW.scene_children[0].push(transition);\r\n            _main__WEBPACK_IMPORTED_MODULE_1__.VIEW.background_generation = () => { return (0,_background_generation__WEBPACK_IMPORTED_MODULE_3__.generate_meadow_background)(_main__WEBPACK_IMPORTED_MODULE_1__.VIEW, true); };\r\n            GENERATION_STEPS++;\r\n        }\r\n    }\r\n    if (_main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.x > 12100 + _engine_background_objects__WEBPACK_IMPORTED_MODULE_4__.CHUNK_WIDTH && _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.x < 12100 + 2 * _engine_background_objects__WEBPACK_IMPORTED_MODULE_4__.CHUNK_WIDTH) {\r\n        if (GENERATION_STEPS == 3) {\r\n            _main__WEBPACK_IMPORTED_MODULE_1__.VIEW.background_generation = () => { return (0,_background_generation__WEBPACK_IMPORTED_MODULE_3__.generate_meadow_background)(_main__WEBPACK_IMPORTED_MODULE_1__.VIEW, false); };\r\n            GENERATION_STEPS++;\r\n        }\r\n    }\r\n    if (_main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.x > 12800 + _engine_background_objects__WEBPACK_IMPORTED_MODULE_4__.CHUNK_WIDTH && _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.x < 12800 + 2 * _engine_background_objects__WEBPACK_IMPORTED_MODULE_4__.CHUNK_WIDTH) {\r\n        if (GENERATION_STEPS == 4) {\r\n            _main__WEBPACK_IMPORTED_MODULE_1__.VIEW.background_color = '#00651a';\r\n            GENERATION_STEPS++;\r\n        }\r\n    }\r\n    if (_main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.x > 24000 + _engine_background_objects__WEBPACK_IMPORTED_MODULE_4__.CHUNK_WIDTH && _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.x < 24000 + 2 * _engine_background_objects__WEBPACK_IMPORTED_MODULE_4__.CHUNK_WIDTH) {\r\n        if (GENERATION_STEPS == 5) {\r\n            let transition = new _engine_background_objects__WEBPACK_IMPORTED_MODULE_4__.BiomesTransition({ x: _main__WEBPACK_IMPORTED_MODULE_1__.VIEW.scene_children[0][_main__WEBPACK_IMPORTED_MODULE_1__.VIEW.scene_children[0].length - 1].space_pos.x, y: 0, z: 0 }, '#163cf5', _main__WEBPACK_IMPORTED_MODULE_1__.VIEW);\r\n            _main__WEBPACK_IMPORTED_MODULE_1__.VIEW.scene_children[0].push(transition);\r\n            _main__WEBPACK_IMPORTED_MODULE_1__.VIEW.background_generation = () => { return (0,_background_generation__WEBPACK_IMPORTED_MODULE_3__.generate_ocean_background)(_main__WEBPACK_IMPORTED_MODULE_1__.VIEW); };\r\n            GENERATION_STEPS++;\r\n        }\r\n    }\r\n    if (_main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.x > 24700 + _engine_background_objects__WEBPACK_IMPORTED_MODULE_4__.CHUNK_WIDTH && _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.x < 24700 + 2 * _engine_background_objects__WEBPACK_IMPORTED_MODULE_4__.CHUNK_WIDTH) {\r\n        if (GENERATION_STEPS == 6) {\r\n            _main__WEBPACK_IMPORTED_MODULE_1__.VIEW.background_color = '#163cf5';\r\n        }\r\n    }\r\n    if (MSG_TIME > 0) {\r\n        MSG_TIME--;\r\n    }\r\n    if (MSG_TIME == 0) {\r\n        MESSAGE = '';\r\n    }\r\n    let current_wave = 'beta';\r\n    if (_main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.x > 5000) {\r\n        current_wave = 'gamma';\r\n    }\r\n    if (_main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.x > 7500) {\r\n        current_wave = 'delta';\r\n    }\r\n    if (_main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.x > 10000) {\r\n        current_wave = 'epsilon';\r\n    }\r\n    if (_main__WEBPACK_IMPORTED_MODULE_1__.VIEW.total_loops == 100) {\r\n        new_wave('alpha');\r\n    }\r\n    if (_main__WEBPACK_IMPORTED_MODULE_1__.VIEW.total_loops % 1024 == 0) {\r\n        enemies_escape();\r\n    }\r\n    if (_main__WEBPACK_IMPORTED_MODULE_1__.VIEW.total_loops % 1096 == 0) {\r\n        new_wave(current_wave);\r\n    }\r\n    if (LIVES == 0) {\r\n        _assets__WEBPACK_IMPORTED_MODULE_2__.THEME.pause();\r\n        set_message('dead', 100);\r\n        _main__WEBPACK_IMPORTED_MODULE_1__.VIEW.stop_render();\r\n        let ctx = _main__WEBPACK_IMPORTED_MODULE_1__.CANVAS.getContext('2d');\r\n        let dead = () => __awaiter(void 0, void 0, void 0, function* () {\r\n            yield wait(100);\r\n            for (let i = 0; i < 32; i++) {\r\n                yield wait(10);\r\n                ctx.fillStyle = '#000000';\r\n                ctx.fillRect(0, i * (_main__WEBPACK_IMPORTED_MODULE_1__.CANVAS.height / 32), _main__WEBPACK_IMPORTED_MODULE_1__.CANVAS.width, _main__WEBPACK_IMPORTED_MODULE_1__.CANVAS.height / 32);\r\n            }\r\n            (0,_control_panel__WEBPACK_IMPORTED_MODULE_5__.blackout)();\r\n            yield wait(200);\r\n            let final_msg = 'Your final score was ' + (PEOPLE_COLLECTED * 500 + _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.murders * 600);\r\n            document.getElementById('end').innerHTML = 'GAMEOVER<br/>' + final_msg;\r\n        });\r\n        dead();\r\n    }\r\n};\r\nlet wait = (time) => __awaiter(void 0, void 0, void 0, function* () {\r\n    return new Promise((resolve) => {\r\n        setTimeout(() => { resolve(true); }, time);\r\n    });\r\n});\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (render_action);\r\n\n\n//# sourceURL=webpack://panther/./src/game/action.ts?");

/***/ }),

/***/ "./src/game/assets.ts":
/*!****************************!*\
  !*** ./src/game/assets.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TEXTURES\": () => (/* binding */ TEXTURES),\n/* harmony export */   \"THEME\": () => (/* binding */ THEME)\n/* harmony export */ });\n//TEXTURES images\r\nconst TEXTURES = {\r\n    player: new Image(),\r\n    player_shadow: new Image(),\r\n    player_projectile: new Image(),\r\n    enemy_green: new Image(),\r\n    enemy_bend_green: new Image(),\r\n    enemy_purple: new Image(),\r\n    enemy_bend_purple: new Image(),\r\n    enemy_violet: new Image(),\r\n    enemy_bend_violet: new Image(),\r\n    enemy_red: new Image(),\r\n    enemy_bend_red: new Image(),\r\n    enemy_yellow: new Image(),\r\n    enemy_bend_yellow: new Image(),\r\n    enemy_pink: new Image(),\r\n    enemy_bend_pink: new Image(),\r\n    enemy_shadow: new Image(),\r\n    enemy_projectile: new Image(),\r\n    explosion: new Image(),\r\n    explosion_shadow: new Image(),\r\n    cactus: new Image(),\r\n    desert_stones: new Image(),\r\n    desert_bunker: new Image(),\r\n    person_waiting: new Image(),\r\n    person_walking: new Image(),\r\n    rails: new Image(),\r\n    pole: new Image(),\r\n    pump: new Image(),\r\n    rail_end: new Image(),\r\n    bush: new Image(),\r\n    dirt: new Image(),\r\n    meadow_bunker: new Image(),\r\n    road: new Image(),\r\n    road_skew: new Image(),\r\n    ruin1: new Image(),\r\n    ruin2: new Image(),\r\n    wave: new Image(),\r\n    control_panel: new Image()\r\n};\r\nconst THEME = new Audio('./assets/audio/main.mp3');\r\nTHEME.volume = 0.2;\r\nTHEME.addEventListener(\"canplaythrough\", (event) => {\r\n    THEME.play();\r\n});\r\n//asign src to each image in TEXTURES\r\nfor (const [key, value] of Object.entries(TEXTURES)) {\r\n    value.src = './assets/spritesheets/' + key + '.png';\r\n}\r\n// const FONT = new FontFace('ATARI', 'url(../assets/fonts/atari.ttf)')\r\n\r\n\n\n//# sourceURL=webpack://panther/./src/game/assets.ts?");

/***/ }),

/***/ "./src/game/background_generation.ts":
/*!*******************************************!*\
  !*** ./src/game/background_generation.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"generate_desert_background\": () => (/* binding */ generate_desert_background),\n/* harmony export */   \"generate_meadow_background\": () => (/* binding */ generate_meadow_background),\n/* harmony export */   \"generate_ocean_background\": () => (/* binding */ generate_ocean_background)\n/* harmony export */ });\n/* harmony import */ var _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../engine/background_objects */ \"./src/engine/background_objects.ts\");\n/* harmony import */ var _assets__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./assets */ \"./src/game/assets.ts\");\n\r\n\r\n\r\nlet LAST_BUNKER = 0;\r\nconst cacti = {\r\n    texture: _assets__WEBPACK_IMPORTED_MODULE_1__.TEXTURES.cactus,\r\n    texture_dimensions: { x: 8, y: 8 },\r\n    animated: false,\r\n    density: 24\r\n};\r\nconst bushes = {\r\n    texture: _assets__WEBPACK_IMPORTED_MODULE_1__.TEXTURES.bush,\r\n    texture_dimensions: { x: 8, y: 8 },\r\n    animated: false,\r\n    density: 24\r\n};\r\nconst stones = {\r\n    texture: _assets__WEBPACK_IMPORTED_MODULE_1__.TEXTURES.desert_stones,\r\n    texture_dimensions: { x: 8, y: 512 },\r\n    animated: false,\r\n    density: 32\r\n};\r\nconst dirt = {\r\n    texture: _assets__WEBPACK_IMPORTED_MODULE_1__.TEXTURES.dirt,\r\n    texture_dimensions: { x: 8, y: 512 },\r\n    animated: false,\r\n    density: 128\r\n};\r\nconst desert_bunkers = {\r\n    texture: _assets__WEBPACK_IMPORTED_MODULE_1__.TEXTURES.desert_bunker,\r\n    texture_dimensions: { x: 32, y: 16 },\r\n    animated: false,\r\n    density: 1\r\n};\r\nconst meadow_bunkers = {\r\n    texture: _assets__WEBPACK_IMPORTED_MODULE_1__.TEXTURES.meadow_bunker,\r\n    texture_dimensions: { x: 32, y: 16 },\r\n    animated: false,\r\n    density: 1\r\n};\r\nconst generate_desert_background = (rail_end, draw_road, view) => {\r\n    let chunk_children = new Array();\r\n    LAST_BUNKER++;\r\n    if (LAST_BUNKER > 16) {\r\n        LAST_BUNKER = 0;\r\n    }\r\n    //generate stones\r\n    for (let i = 0; i < _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_WIDTH / stones.texture_dimensions.x; i++) {\r\n        let z_noise = Math.random() * 10;\r\n        let stone = new _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.Decoration({\r\n            x: (i * stones.texture_dimensions.x),\r\n            y: -100,\r\n            z: z_noise\r\n        }, stones.texture, stones.animated, stones.texture_dimensions.x);\r\n        stone.parent = view;\r\n        chunk_children.push(stone);\r\n        stone = new _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.Decoration({\r\n            x: (i * stones.texture_dimensions.x) + (2 * _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_WIDTH),\r\n            y: -100,\r\n            z: (-stones.texture_dimensions.y / 2) + z_noise\r\n        }, stones.texture, stones.animated, stones.texture_dimensions.x);\r\n        stone.parent = view;\r\n        chunk_children.push(stone);\r\n    }\r\n    //generate cactuses\r\n    for (let i = 0; i < (draw_road ? cacti.density : 64); i++) {\r\n        let cactus = new _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.Decoration({\r\n            x: Math.floor(Math.random() * _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_WIDTH),\r\n            y: 0,\r\n            z: Math.floor(Math.random() * _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_HEIGHT * 1.5) - _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_HEIGHT / 1.25\r\n        }, cacti.texture, cacti.animated, cacti.texture_dimensions.x);\r\n        if (draw_road && Math.abs(cactus.space_pos.z) > 20 || !draw_road) {\r\n            view.killer_positions.push(cactus.space_pos);\r\n            cactus.parent = view;\r\n            chunk_children.push(cactus);\r\n        }\r\n    }\r\n    //generate bunker\r\n    if (LAST_BUNKER == 16) {\r\n        let spawn_bunker = Math.floor(Math.random() * 1);\r\n        if (spawn_bunker == 0) {\r\n            let bunker = new _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.Bunker({\r\n                x: Math.floor(Math.random() * _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_WIDTH),\r\n                y: 0,\r\n                z: Math.floor(Math.random() * _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_HEIGHT / 2) - _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_HEIGHT / 4\r\n            }, desert_bunkers.texture, desert_bunkers.texture_dimensions.x);\r\n            if (draw_road && Math.abs(bunker.space_pos.z) > 20 || !draw_road) {\r\n                bunker.parent = view;\r\n                chunk_children.push(bunker);\r\n            }\r\n        }\r\n    }\r\n    //generate pumps\r\n    let chances = Math.floor(Math.random() * 3);\r\n    if (chances == 0) {\r\n        let pump = new _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.Decoration({\r\n            x: Math.floor(Math.random() * _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_WIDTH),\r\n            y: 0,\r\n            z: Math.floor(Math.random() * _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_HEIGHT / 2) - _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_HEIGHT / 4\r\n        }, _assets__WEBPACK_IMPORTED_MODULE_1__.TEXTURES.pump, true, 32);\r\n        if (draw_road && Math.abs(pump.space_pos.z) > 20 || !draw_road) {\r\n            view.killer_positions.push(pump.space_pos);\r\n            pump.parent = view;\r\n            chunk_children.push(pump);\r\n        }\r\n    }\r\n    //rails generate\r\n    if (draw_road) {\r\n        let rails_txt = _assets__WEBPACK_IMPORTED_MODULE_1__.TEXTURES.rails;\r\n        for (let i = 0; i < _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_WIDTH / rails_txt.width; i++) {\r\n            let rails = new _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.Decoration({\r\n                x: i * rails_txt.width,\r\n                y: 0,\r\n                z: 0\r\n            }, rails_txt, false, rails_txt.width);\r\n            rails.parent = view;\r\n            chunk_children.push(rails);\r\n        }\r\n        let pole = new _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.Decoration({ x: 0, y: 0, z: -20 }, _assets__WEBPACK_IMPORTED_MODULE_1__.TEXTURES.pole, false, _assets__WEBPACK_IMPORTED_MODULE_1__.TEXTURES.pole.width);\r\n        pole.parent = view;\r\n        chunk_children.push(pole);\r\n    }\r\n    if (rail_end) {\r\n        let railend = new _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.Decoration({ x: 8, y: 0, z: 2 }, _assets__WEBPACK_IMPORTED_MODULE_1__.TEXTURES.rail_end, false, _assets__WEBPACK_IMPORTED_MODULE_1__.TEXTURES.rail_end.width);\r\n        railend.parent = view;\r\n        chunk_children.push(railend);\r\n    }\r\n    return chunk_children;\r\n};\r\nlet background_green_plane;\r\nconst generate_meadow_background = (view, starting_chunk) => {\r\n    let chunk_children = new Array();\r\n    let reserved_x = null;\r\n    LAST_BUNKER++;\r\n    if (LAST_BUNKER > 16) {\r\n        LAST_BUNKER = 0;\r\n    }\r\n    // //if first of type\r\n    if (starting_chunk) {\r\n        let piece_of_dirt = new _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.Decoration({\r\n            x: (stones.texture_dimensions.x),\r\n            y: -100,\r\n            z: 0\r\n        }, dirt.texture, dirt.animated, dirt.texture_dimensions.x);\r\n        piece_of_dirt.parent = view;\r\n        chunk_children.push(piece_of_dirt);\r\n        let piece_of_dirt2 = new _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.Decoration({\r\n            x: (-2 * stones.texture_dimensions.x),\r\n            y: -100,\r\n            z: (-stones.texture_dimensions.y / 2)\r\n        }, dirt.texture, dirt.animated, dirt.texture_dimensions.x);\r\n        piece_of_dirt2.parent = view;\r\n        chunk_children.push(piece_of_dirt2);\r\n    }\r\n    if (background_green_plane instanceof _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.Plane) {\r\n        background_green_plane.space_pos.x += 128;\r\n        background_green_plane.translate_self();\r\n    }\r\n    //generate dirt\r\n    for (let i = 0; i < _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_WIDTH / dirt.texture_dimensions.x; i++) {\r\n        let z_noise = Math.random() * 10;\r\n        let piece_of_dirt = new _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.Decoration({\r\n            x: (i * stones.texture_dimensions.x),\r\n            y: -100,\r\n            z: z_noise\r\n        }, dirt.texture, dirt.animated, dirt.texture_dimensions.x);\r\n        piece_of_dirt.parent = view;\r\n        chunk_children.push(piece_of_dirt);\r\n        let piece_of_dirt2 = new _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.Decoration({\r\n            x: (i * stones.texture_dimensions.x) + (2 * _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_WIDTH),\r\n            y: -100,\r\n            z: (-stones.texture_dimensions.y / 2) + z_noise\r\n        }, dirt.texture, dirt.animated, dirt.texture_dimensions.x);\r\n        piece_of_dirt2.parent = view;\r\n        chunk_children.push(piece_of_dirt2);\r\n    }\r\n    //generate additional roads\r\n    let skew_road_generate = Math.floor(Math.random() * 3);\r\n    if (skew_road_generate == 0) {\r\n        let x = Math.floor(Math.random() * _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_WIDTH / 2) + 30;\r\n        reserved_x = x;\r\n        let direction = Math.floor(Math.random() * 2 - 1) == 0 ? 1 : -1;\r\n        let checked_z = Math.floor(Math.random() * 5 + 6);\r\n        for (let z = 1; z < _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_WIDTH / 4; z++) {\r\n            if (z == checked_z) {\r\n                let chances = Math.floor(Math.random() * 4);\r\n                if (chances == 0) {\r\n                    let ruin = new _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.Decoration({ x: x + 2, y: 0, z: 8 * (z + 1) * direction }, Math.floor(Math.random() * 2) == 0 ? _assets__WEBPACK_IMPORTED_MODULE_1__.TEXTURES.ruin1 : _assets__WEBPACK_IMPORTED_MODULE_1__.TEXTURES.ruin2, false, 32);\r\n                    ruin.parent = view;\r\n                    chunk_children.push(ruin);\r\n                    break;\r\n                }\r\n            }\r\n            let position = { x: x, y: 0, z: 8 * z * direction };\r\n            let road_skew = new _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.Decoration(position, _assets__WEBPACK_IMPORTED_MODULE_1__.TEXTURES.road_skew, false, 16);\r\n            road_skew.parent = view;\r\n            chunk_children.push(road_skew);\r\n        }\r\n    }\r\n    //generate road\r\n    let road_txt = _assets__WEBPACK_IMPORTED_MODULE_1__.TEXTURES.road;\r\n    for (let i = starting_chunk ? 2 : 0; i < _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_WIDTH / road_txt.width; i++) {\r\n        let road = new _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.Decoration({\r\n            x: i * road_txt.width,\r\n            y: 0,\r\n            z: 0\r\n        }, road_txt, false, road_txt.width);\r\n        road.parent = view;\r\n        chunk_children.push(road);\r\n    }\r\n    //generate bushes\r\n    for (let i = 0; i < cacti.density; i++) {\r\n        let bush = new _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.Decoration({\r\n            x: Math.floor(Math.random() * _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_WIDTH),\r\n            y: 0,\r\n            z: Math.floor(Math.random() * _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_HEIGHT * 1.5) - _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_HEIGHT / 1.25\r\n        }, bushes.texture, bushes.animated, bushes.texture_dimensions.x);\r\n        let distance_from_reserved_x = Math.abs(bush.space_pos.x - reserved_x);\r\n        if (Math.abs(bush.space_pos.z) > 20 && distance_from_reserved_x > 20) {\r\n            view.killer_positions.push(bush.space_pos);\r\n            bush.parent = view;\r\n            chunk_children.push(bush);\r\n        }\r\n    }\r\n    //generate bunker\r\n    if (LAST_BUNKER == 16) {\r\n        let spawn_bunker = Math.floor(Math.random() * 1);\r\n        if (spawn_bunker == 0) {\r\n            let bunker = new _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.Bunker({\r\n                x: Math.floor(Math.random() * _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_WIDTH),\r\n                y: 0,\r\n                z: Math.floor(Math.random() * _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_HEIGHT / 2) - _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_HEIGHT / 4\r\n            }, meadow_bunkers.texture, meadow_bunkers.texture_dimensions.x);\r\n            let distance_from_reserved_x = Math.abs(bunker.space_pos.x - reserved_x);\r\n            if (Math.abs(bunker.space_pos.z) > 20 && distance_from_reserved_x > 20) {\r\n                bunker.parent = view;\r\n                chunk_children.push(bunker);\r\n            }\r\n        }\r\n    }\r\n    if (starting_chunk) {\r\n        for (let z = -_engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_HEIGHT / 2; z < _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_HEIGHT / 4; z++) {\r\n            let position = { x: 24, y: 0, z: 8 * z };\r\n            let road_skew = new _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.Decoration(position, _assets__WEBPACK_IMPORTED_MODULE_1__.TEXTURES.road_skew, false, 16);\r\n            road_skew.parent = view;\r\n            chunk_children.push(road_skew);\r\n        }\r\n    }\r\n    return chunk_children;\r\n};\r\nconst generate_ocean_background = (view) => {\r\n    let chunk_children = new Array();\r\n    for (let i = 0; i < 32; i++) {\r\n        let wave = new _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.Wave({ x: Math.floor(Math.random() * _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_WIDTH), y: 0, z: Math.floor(Math.random() * _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_HEIGHT * 2 - _engine_background_objects__WEBPACK_IMPORTED_MODULE_0__.CHUNK_HEIGHT) }, _assets__WEBPACK_IMPORTED_MODULE_1__.TEXTURES.wave, Math.floor(Math.random() * 32 + 8));\r\n        wave.parent = view;\r\n        chunk_children.push(wave);\r\n    }\r\n    return chunk_children;\r\n};\r\n\r\n\n\n//# sourceURL=webpack://panther/./src/game/background_generation.ts?");

/***/ }),

/***/ "./src/game/control_panel.ts":
/*!***********************************!*\
  !*** ./src/game/control_panel.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"blackout\": () => (/* binding */ blackout),\n/* harmony export */   \"get_radar_positions\": () => (/* binding */ get_radar_positions),\n/* harmony export */   \"handle_control_panel\": () => (/* binding */ handle_control_panel)\n/* harmony export */ });\n/* harmony import */ var _assets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./assets */ \"./src/game/assets.ts\");\n/* harmony import */ var _main__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./main */ \"./src/game/main.ts\");\n\r\n\r\nconst CONTROL_PANEL_CANVAS = document.getElementById('control-panel');\r\nconst CONTROL_PANEL_CTX = CONTROL_PANEL_CANVAS.getContext('2d');\r\nconst CONTROL_PANEL_TEXTURE = _assets__WEBPACK_IMPORTED_MODULE_0__.TEXTURES.control_panel;\r\nconst handle_control_panel = (message, score, people, lives, view_children) => {\r\n    CONTROL_PANEL_CANVAS.style.imageRendering = 'pixelated';\r\n    CONTROL_PANEL_CTX.drawImage(CONTROL_PANEL_TEXTURE, 0, 0);\r\n    CONTROL_PANEL_CTX.fillStyle = '#ffffff';\r\n    CONTROL_PANEL_CTX.font = '6px atari';\r\n    CONTROL_PANEL_CTX.fillText('Score', 24, 12);\r\n    CONTROL_PANEL_CTX.fillText(score + '', 42 - 4 * (score + '').length, 20);\r\n    CONTROL_PANEL_CTX.fillText(people + '', 300 - 4 * (people + '').length, 14);\r\n    CONTROL_PANEL_CTX.fillText(lives + '', 250, 22);\r\n    CONTROL_PANEL_CTX.fillText(view_children.length - (_main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.dead ? 0 : 1) + '', 250, 32);\r\n    for (let el of view_children) {\r\n        if (el.x > -5 && el.x < 40 && el.y > -13 && el.y < 13) {\r\n            CONTROL_PANEL_CTX.fillRect(el.x + 92, el.y + 28, 2, 1);\r\n        }\r\n    }\r\n    CONTROL_PANEL_CTX.textAlign = 'center';\r\n    CONTROL_PANEL_CTX.fillText(message, 160 - message.length * 0.5, 5);\r\n    CONTROL_PANEL_CTX.textAlign = 'start';\r\n};\r\nconst get_radar_positions = (entities, view_pos) => {\r\n    let radar_positions = new Array();\r\n    for (let obj of entities) {\r\n        if (obj.name == 'PERSON') {\r\n            continue;\r\n        }\r\n        let radar_pos = { x: obj.space_pos.x - view_pos, y: obj.space_pos.y, z: obj.space_pos.z };\r\n        radar_pos.x /= 12;\r\n        radar_pos.z /= 8;\r\n        radar_positions.push({ x: radar_pos.x, y: radar_pos.z });\r\n    }\r\n    return radar_positions;\r\n};\r\nconst blackout = () => {\r\n    CONTROL_PANEL_CTX.fillStyle = '#000000';\r\n    CONTROL_PANEL_CTX.fillRect(0, 0, 1000, 1000);\r\n};\r\n\r\n\n\n//# sourceURL=webpack://panther/./src/game/control_panel.ts?");

/***/ }),

/***/ "./src/game/main.ts":
/*!**************************!*\
  !*** ./src/game/main.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CANVAS\": () => (/* binding */ CANVAS),\n/* harmony export */   \"ENEMIES_TEXTURES\": () => (/* binding */ ENEMIES_TEXTURES),\n/* harmony export */   \"PLAYER\": () => (/* binding */ PLAYER),\n/* harmony export */   \"SPEED\": () => (/* binding */ SPEED),\n/* harmony export */   \"VIEW\": () => (/* binding */ VIEW)\n/* harmony export */ });\n/* harmony import */ var _engine_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../engine/view */ \"./src/engine/view.ts\");\n/* harmony import */ var _engine_entities_objects__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../engine/entities_objects */ \"./src/engine/entities_objects.ts\");\n/* harmony import */ var _assets__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./assets */ \"./src/game/assets.ts\");\n/* harmony import */ var _engine_globals__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../engine/globals */ \"./src/engine/globals.ts\");\n/* harmony import */ var _platform__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./platform */ \"./src/game/platform.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\nconst ENEMIES_TEXTURES = [\r\n    [_assets__WEBPACK_IMPORTED_MODULE_2__.TEXTURES.enemy_bend_green, _assets__WEBPACK_IMPORTED_MODULE_2__.TEXTURES.enemy_green],\r\n    [_assets__WEBPACK_IMPORTED_MODULE_2__.TEXTURES.enemy_bend_yellow, _assets__WEBPACK_IMPORTED_MODULE_2__.TEXTURES.enemy_yellow],\r\n    [_assets__WEBPACK_IMPORTED_MODULE_2__.TEXTURES.enemy_bend_purple, _assets__WEBPACK_IMPORTED_MODULE_2__.TEXTURES.enemy_purple],\r\n    [_assets__WEBPACK_IMPORTED_MODULE_2__.TEXTURES.enemy_bend_pink, _assets__WEBPACK_IMPORTED_MODULE_2__.TEXTURES.enemy_pink],\r\n    [_assets__WEBPACK_IMPORTED_MODULE_2__.TEXTURES.enemy_bend_red, _assets__WEBPACK_IMPORTED_MODULE_2__.TEXTURES.enemy_red],\r\n    [_assets__WEBPACK_IMPORTED_MODULE_2__.TEXTURES.enemy_bend_violet, _assets__WEBPACK_IMPORTED_MODULE_2__.TEXTURES.enemy_violet]\r\n];\r\nconst SPEED = 1;\r\nconst PLAYER = new _engine_entities_objects__WEBPACK_IMPORTED_MODULE_1__.Entity({ x: 96, y: 8, z: -30 }, _assets__WEBPACK_IMPORTED_MODULE_2__.TEXTURES.player, _assets__WEBPACK_IMPORTED_MODULE_2__.TEXTURES.player_shadow, _assets__WEBPACK_IMPORTED_MODULE_2__.TEXTURES.player_projectile, 'PLAYER');\r\n// PLAYER.show_axes = true\r\nconst CANVAS = document.getElementById('game-field');\r\nconst VIEW = new _engine_view__WEBPACK_IMPORTED_MODULE_0__[\"default\"](CANVAS);\r\nlet start = () => __awaiter(void 0, void 0, void 0, function* () {\r\n    (0,_platform__WEBPACK_IMPORTED_MODULE_4__.set_platform)();\r\n    (0,_engine_globals__WEBPACK_IMPORTED_MODULE_3__.set_player_global)(PLAYER);\r\n    VIEW.explosion_texture = _assets__WEBPACK_IMPORTED_MODULE_2__.TEXTURES.explosion;\r\n    VIEW.add_entity(PLAYER);\r\n});\r\nstart();\r\n\n\n//# sourceURL=webpack://panther/./src/game/main.ts?");

/***/ }),

/***/ "./src/game/platform.ts":
/*!******************************!*\
  !*** ./src/game/platform.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PHONE_MOTION\": () => (/* binding */ PHONE_MOTION),\n/* harmony export */   \"phone_movement\": () => (/* binding */ phone_movement),\n/* harmony export */   \"set_platform\": () => (/* binding */ set_platform)\n/* harmony export */ });\n/* harmony import */ var _action__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./action */ \"./src/game/action.ts\");\n/* harmony import */ var _main__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./main */ \"./src/game/main.ts\");\n\r\n\r\nconst PHONE_MOTION = {\r\n    isMobile: false,\r\n    orientation: 'horizontal',\r\n    rotations: { a: 0, b: 0, g: 0 },\r\n    clicked: false,\r\n    starting_rotation: { a: 0, b: 0, g: 0 }\r\n};\r\nconst set_platform = () => {\r\n    const device = navigator.userAgent;\r\n    const regx = /android|iphone|kindle|ipad/i;\r\n    const isMobile = regx.test(device);\r\n    if (isMobile) {\r\n        PHONE_MOTION.isMobile = true;\r\n        window.addEventListener('deviceorientation', manage_orientation);\r\n        window.addEventListener('touchstart', () => { PHONE_MOTION.clicked = true; });\r\n        try {\r\n            document.getElementById('start-screen').innerHTML = '<h1>PANTHER</h1><p style=\"margin-bottom:30%\">by Oskar Marciniak<br/>use horizontal mode for the best experience<br/>click anywhere to continue</br>sound will play</p>';\r\n        }\r\n        catch (error) {\r\n            console.log('error');\r\n        }\r\n    }\r\n};\r\nconst manage_orientation = (event) => {\r\n    if (PHONE_MOTION.starting_rotation.a == 0 && PHONE_MOTION.starting_rotation.b == 0\r\n        || Math.abs(PHONE_MOTION.starting_rotation.a - PHONE_MOTION.rotations.a) > 30\r\n        || Math.abs(PHONE_MOTION.starting_rotation.b - PHONE_MOTION.rotations.b) > 30\r\n        || Math.abs(PHONE_MOTION.starting_rotation.g - PHONE_MOTION.rotations.g) > 30) {\r\n        PHONE_MOTION.starting_rotation = {\r\n            a: event.alpha,\r\n            b: event.beta,\r\n            g: event.gamma\r\n        };\r\n    }\r\n    PHONE_MOTION.rotations = {\r\n        a: event.alpha,\r\n        b: event.beta,\r\n        g: event.gamma\r\n    };\r\n};\r\nconst phone_movement = () => {\r\n    if (!_action__WEBPACK_IMPORTED_MODULE_0__.ALLOW_MOVEMENT) {\r\n        return [0, 0, 0];\r\n    }\r\n    let y = Math.floor((PHONE_MOTION.starting_rotation.g - PHONE_MOTION.rotations.g) / 5) - 1;\r\n    let z = -Math.floor((PHONE_MOTION.starting_rotation.b - PHONE_MOTION.rotations.b) / 5);\r\n    if (y < -3) {\r\n        y = -3;\r\n    }\r\n    if (y > 3) {\r\n        y = 3;\r\n    }\r\n    if (z < -3) {\r\n        z = -3;\r\n    }\r\n    if (z > 3) {\r\n        z = 3;\r\n    }\r\n    let movement = [\r\n        0,\r\n        y,\r\n        z\r\n    ];\r\n    if (Math.abs(_main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.z + movement[2]) > 64 || _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.y == 0) {\r\n        movement[2] = 0;\r\n    }\r\n    if (_main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.y + movement[1] > 48 || _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.space_pos.y + movement[1] < 0) {\r\n        movement[1] = 0;\r\n    }\r\n    if (PHONE_MOTION.clicked) {\r\n        _main__WEBPACK_IMPORTED_MODULE_1__.PLAYER.fire(true);\r\n        PHONE_MOTION.clicked = false;\r\n    }\r\n    return movement;\r\n};\r\n\n\n//# sourceURL=webpack://panther/./src/game/platform.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/game/main.ts");
/******/ 	
/******/ })()
;